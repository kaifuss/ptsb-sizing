# Скрипт по расчету технических характеристик серверов PT Sandbox
## Содержание
- [Описание проекта](#описание-проекта)
- [Зависимости](#зависимости)
- [Установка](#установка)
- [Функциональные возможности](#функциональные-возможности)
- [1. Решаемые задачи](#1-решаемые-задачи)
- [2. Подходы к решению задач в скрипте](#2-подходы-к-решению-задач-в-скрипте)
- [3. Изменение параметров по умолчанию](#3-изменение-параметров-по-умолчанию)
- [Примеры использования](#примеры-использования)
- [1. Пример расчета конфигурации отказоутойчивого кластера при проверке файлов с почтового трафика](#1-пример-расчета-конфигурации-отказоутойчивого-кластера-при-проверке-файлов-с-почтового-трафика)
- [2. Пример расчета конфигурации AiO инсталляции по известной нагрузке](#2-пример-расчета-конфигурации-aio-инсталляции-по-известной-нагрузке)
- [3. Пример расчета конфигурации высоконагруженной инсталляции при ручном вводе количества виртуальных машин](#3-пример-расчета-конфигурации-высоконагруженной-инсталляции-при-ручном-вводе-количества-виртуальных-машин)
- [Лицензия](#лицензия)
- [Авторы](#авторы)
- [Использованные источники](#использованные-источники)
- [Контакты](#контакты)

## Описание проекта
Данная утилита предназначена для расчета технических характеристик серверов под систему Positive Technologies Sandbox. Исходными данными при расчете могут быть:
1. Информация об используемых источниках в системе с последующим расчетом нагрузки с этих источников на статические и динамические исследования системы
2. Ручной ввод количества статических и динамических заданий с возможностью указания времени сканирования файлов динамикой
3. Ручной ввод количества серверов с возможностью указания количества виртуальных машин на каждый сервер

## Зависимости
Для корректной работы утилиты необходимы следующие библиотеки python:
- math (*встроенная*)
- csv (*встроенная*)
- tabulate (*требует установки*)

Зависимости, требующие установки приведены в файле *requirements.txt* в папке с утилитой и могут быть установлены при помощи следующей команды:<br>
```bash
pip install -r requirements.txt
```
## Установка
Для установки и использования утилиты необходимо:
1. Клонировать репозиторий командой:
```bash
git clone https://github.com/kaifuss/ptsb-sizing.git
```
2. Установить завивимости для проекта командой:
```bash
pip install -r requirements.txt
```
3. Запустить исполняемый файл командой:storage_load_parameters
```bash
python main.py
```

## Функциональные возможности
### 1. Решаемые задачи
Данный скрипт позволяет решить следующие задачи по расчету технических характеристик под сервера PT Sandbox:
1. Рассчитать нагрузку на всю инсталляцию на основании планируемоей нагрузки под каждый из `возможных источников`. Полученные данные будут преобразованы в общее количество `статических` и `динамических заданий`. Далее они будут использованы для определения `возможности использования инсталляции типа AiO`, необходимого `количества виртуальных машин` на всю инсталляцию и, соотстветсвенно, необходимого `количества дополнительных серверов` под динамические исследования.
2. Рассчитать нагрузку на всю инсталляцию на основании вручную вводимой нагрузки на `статические` и `динамические исследования` с возможностью указания `времени на сканирование файлов`. Аналогично расчету нагрузки с источников - в данном случае также произойдет определение `возможности использования инсталляции типа AiO`, необходимого `количества виртуальных машин` на всю инсталляцию и, соотстветсвенно, необходимого `количества дополнительных серверов` под динамические исследования.
3. Полностью вручную рассчитать технические характеристики серверов всей инсталляции и сам `тип инсталляции`. Для инсталляции типа `AiO` возможно указать `количество виртуальных машин`, которые будут использованы на стенде. Для инсталляции типов `высоконагруженная` или `отказоустойчивый кластер` можно вручную указать `количество серверов`, а также `количество виртуальных машин` на каждый дополнительный сервер.

Для каждого из вышеперечисленных вариантов поддерживается возможность выбора `типа инсталляции`. Также, поддерживается ручной ввод `количества серверов` и соответствующего им `количества виртуальных машин` на сервер.

### 2. Подходы к решению задач в скрипте
#### 2.1 Обработка нагрузки на инсталляцию с источников
Список источников, с которых может быть рассчитана нагрузка:
1. SMTP-источник
2. ICAP-источник
3. MP 10 EDR агенты
4. API с предуставновленными параметрами проверки
5. API с пользовательскими параметрами проверки
6. Файловое хранилище

Переход к расчету нагрузки с источников будет произведен, если в вопросе при запуске скрипта выбрать вариант `1`:
```bash
Доступные варианты расчета технических характеристик под сервера PT SB:
1. Расчет ТХ серверов (а также их количества) на основании известных или около известных показателей нагрузки с разлиичных источников
2. Расчет ТХ серверов (а также их количества) на основании вручную вводимых показателей нагрузки на статику и динамику в час
3. Полностью ручный расчет ТХ серверов на основании вручную вводимого количества ВМ на сервер и количества серверов
Введите цифру, соответствующую необходимому варианту: 1
```
Все источники в скрипте заданы, как объекты класса `dict()` и хранят в себе соответствующие им параметры в качестве пары *ключ-значение*. Скриптом запрашивается информация об использовании каждого из `источников`. Пример запроса использования ICAP-источника:
```bash
───────────────────────────Сетевой трафик по ICAP───────────────────────────
Будет ли использоваться проверка по ICAP? [Yes, Y, Да, Д| / [No, N, Нет, Н]:
```
В случае согласия пользователя, т.е. ввода `yes`, `y`, `да` или `д`, скрипт начнет запрашивать параметры, по которым может быть рассчитана статическая и динамическая награузка (`static_load` и `dynamic_load` соответственно) на каждый из источников.<br>
Для каждого источника (кроме *API с пользовательскими параметрами проверки*) у пользователя запрашиваются коэффициенты отсечки:

1. Примерный % количества файлов, которые пойдут на динамический анализ от общего количества файлов с данного источника - `dynamic_cutoff`
2. Примерный % количества файлов, которые останутся после отсечки по правилам префильтринга с данного источника - `prefilter_cutoff`
3. Примерный % количества файлов, которые останутся после отсечки проверки по кэшу (т.е. файл проверялся недавно) - `cache_cutoff`

Для источника типа *API с пользовательскими параметрами проверки* не запрашивается параметр `prefilter_cutoff`, т.к. данный функционал в системе PT SB недоступен.<br>
Также для каждого источника запрашивается время на сканирование 1 файла в виртуальной машине `time_to_scan`.
В итоге, с каждого источника (кроме *файлового хранилища*) вычисляется потенциальная динамическая нагрузка `dynamic_load` с округлением вверх как:
```bash
dynamic_load = math.ceil(static_load * dynamic_cutoff * prefilter_cutoff * cache_cutoff)
```
Для источника типа *файловое хранилище* скрипт сразу запрашивает примерное количество файлов, попадаюших на поведенческий анализ `dynamic_load`, т.к. эффективных формул расчета нагрузки на динамику по нагрузке на статику нет. Для файлового хранилища итоговая нагрузка на динамику вычисляется как:
```bash
dynamic_load = math.ceil(dynamic_load * prefilter_cutoff * cache_cutoff)
```
На основе полученной динамической нагрузки в час для каждого источника высчиляется необходимое количество виртуальных машин `vms_needed` с округлением вверх как:
```bash
vms_needed = math.ceil(dynamic_load * time_to_scan / 3600)
```
Итоговое количество виртуальных машин `vms_all` на всю инсталляцию вычисляется как сумма количества виртуальных машин с каждого из источников. Скрипт сравнивает полученное значение с максимальным возможным количеством виртуальных машин на 1 сервер, разрешенным вендором `vms_per_server`. Если полученное значение больше разрешенного, скрипт выдаст предупреждение об использовании инсталляции типа `AiO`:
```bash
═══════════════════════════Вычисленные показатели═══════════════════════════
Количество статических заданий: 6000
Количество динамических заданий после всех отсечек: 1020
Рекомендуемое количество виртуальных машин на всю инсталляцию: 43
Использование инсталляции AiO: Не рекомендуется
```
Также на основании всех расчетов для каждого источника скрипт заполняет общую статическую `overall_static` и общую динамическую `overall_static` нагрузку в час.

---
#### 2.2 Обработка ручного ввода нагрузки
В случае, если в качестве расчета был выбран вариант `2. Расчет ТХ серверов (а также их количества) на основании вручную вводимых показателей нагрузки на статику и динамику в час`, скрипт перейдет сразу к заполнению параметров статической и динамической нагрузки в час (`overall_static` и `overall_dynamic` соответственно):
```bash
────────────────────────────Показатели нагрузки─────────────────────────────
Ввведите примерное количество статических заданий в час: 1500
Ввведите примерное количество динамических заданий в час после всех отсечек: 60
```
Далее пользователю будет предложено ввести либо свое количество виртуальных машин `vms_all` на всю инсталляцию, либо время сканирования одного файла `time_to_scan` в секундах, чтобы вычислить необходимое количество виртуальных машин `vms_all`:
```bash
──────────────────────────Количество ВМ на стенде───────────────────────────
Доступные варианты выбора количества виртуальных машин на инсталляцию:
1. Ввести общее количество ВМ на всю инсталляцию вручную
2. Рассчитать на основании нагрузки на динамику и времени сканирования на 1 файл
Введите цифру, соответствующую необходимимому варианту: 
```
В случае выбора варианта `2` скрипт запросит это время `time_to_scan` в секундах и вычислит необходимое количество виртуальных машин на всю инсталляциию по формуле 
```bash
vms_all = overall_dynamic * time_to_scan / 3600
```
```bash
──────────────────────────Количество ВМ на стенде───────────────────────────
Доступные варианты выбора количества виртуальных машин на инсталляцию:
1. Ввести общее количество ВМ на всю инсталляцию вручную
2. Рассчитать на основании нагрузки на динамику и времени сканирования на 1 файл
Введите цифру, соответствующую необходимимому варианту: 2
Введите время сканирования 1 файла в секундах: 120

Расчитанное количество ВМ на стенде:  2
Использование инсталляции AiO: Возможно
```
Аналогично предыдущему пункту, здесь также выводится информация о `возможности использования инсталляции типа AiO`. 

---
#### 2.3 Выбор конфигурации и расчет параметров серверов
Переход к этому пункту происходит либо после получения показателей нагрузки `overall_static` и `overall_dynamic` на основании двух предыдущих пунктов, либо после выбора варианта расчета `3. Полностью ручный расчет ТХ серверов на основании вручную вводимого количества ВМ на сервер и количества серверов` при запуске скрипта. <br>От количества базовых образов `iso_amount`, которые будут использованы на стенде, зависит объем хранилища файлов `/opt/ptms/var/minio` на сервере(-ах) управления. Поэтому скрипт запросит значение для `iso_amount`:
```bash
──────────────────────────Расчет места под образы───────────────────────────
Введите количество базовых образов, которые будут установлены на стенде.
Важно: образ это не то же самое, что виртуальная машина. (По умолчанию - 7): 10
```
Далее следует вопрос о выборе `конфигурации инсталляции`:
```bash
──────────────────────Выбор конфигурации инсталляции────────────────────────
1. All in one на одном сервере;
2. Высоконагруженная конфигурация. При этом, на сервере управления также поддерживаются динамические исследования;
3. Высоконагруженная конфигурация. При этом, на сервере управления не устанавливаются компоненты Xen и не используются динамические исследования;
4. Отказоустойчивый кластер.
Введите цифру, соответствующую нужной конфигурации инсталляции:
```
В случае, если при расчете нагрузки на стенд было определено, что использование AiO не рекомендуется, а пользователь всё равно выбрал этот вариант - будет выведено предупредительное сообщение. В таком случае, значением по умолчанию является максимально возможное количество виртуальных машин на один сервер, рекомендованное вендором `vms_per_server`. Пользователю будет предложено ввести количество виртуальных машин `vms_all`:
```bash
Внимание! Для AiO инсталляции поддерживается не более 15 ВМ на хост. Рассчитанное рекомендованное ранее значние: 30.
Введите количество ВМ, на которое рассчитывается AiO инсталляция (по умолчанию будет использоваться максимальное возможное значение - 15):
```
В случае, если при выборе конфигурации пользовтель указал `2. Высоконагруженная конфигурация. При этом, на сервере управления также поддерживаются динамические исследования`, скрипт предложит 3 варианта распределения количества виртуальных машин на сервер управления:
1. Расчет технических характеристик под сервер управления с `vms_per_server` ВМ (максимально возможным числом, разшененным вендором)
2. Расчет технических характеристик под сервер управления с `vms_on_master` ВМ (тогда на каждом доп. сервере с динамикой будет равное максимально количество ВМ, разрешенным вендором)
3. Вручную ввести количество ВМ для сервера управления
```bash
─────────────────────Расчет ТХ для сервера управления───────────────────────
1. Расчет ТХ под сервер управления с 15 ВМ (максимально возможным числом);
2. Расчет ТХ под сервер управления с 4 ВМ (тогда на каждом доп. сервере будет равное максимально количество ВМ);
3. Вручную ввести количество ВМ для сервера управления с функцией ПА
```
Независимо от выбранного варианта количества вируальных машин на сервере управления `vms_on_master`, скрипт передаст далее информацию об оставшемся количестве виртуальных машин на дополнительные сервера с динамикой. Так, в данном примере `vms_all` = 49, `vms_on_master` = 10. Поэтому, для дальнейшего расчета количества дополнительных серверов и их технических характеристик скрипт предложит создать `3` дополнительных сервера, с общим количеством `vms_all - vms_on_master = 49 - 10 = 39` виртуальных машин:
```bash
Ввведите общее количество ВМ на всю инсталляцию: 49
Использование инсталляции AiO: Не рекомендуется

<...>

─────────────────────Расчет ТХ для сервера управления───────────────────────
1. Расчет ТХ под сервер управления с 15 ВМ (максимально возможным числом);
2. Расчет ТХ под сервер управления с 4 ВМ (тогда на каждом доп. сервере будет равное максимально количество ВМ);
3. Вручную ввести количество ВМ для сервера управления с функцией ПА
Введите цифру, соответствующую нужной конфигурации для сервера управления с функцией ПА: 3
Введите количество ВМ для сервера управления с функцией ПА: 10

───────────────────Расчет ТХ для доп. серверов динамики─────────────────────
1. Расчет ТХ для 3 доп серверов(-а) под общее количество ВМ 39 (не более 15 ВМ на сервер)
2. Вручную ввести количество дополнительных серверов и количество ВМ для каждого сервера
Введите цифру, соответствующую необходимым расчетам ТХ для серверов с динамикой:
```
Также количество дополнительных серверов и количество виртуальных машин для каждого сервера может быть введено вручную:
```bash
────────────────Ручная конфигурация доп. серверов динамики──────────────────
Введите количество дополнительных серверов: 4
Введите количество ВМ для 1-го доп. сервера динамики: 10
Введите количество ВМ для 2-го доп. сервера динамики: 11
Введите количество ВМ для 3-го доп. сервера динамики: 12
Введите количество ВМ для 4-го доп. сервера динамики: 13
```
В случае, если в качестве конфигурации инсталляции было выбрано `4. Отказоустойчивый кластер`, скприт запросит информацию о количестве серверов управления:
```bash
──────────────────────Расчет кол-ва серверов управления─────────────────────
Введите количество серверов управления в данной инсталляции (нечетное число): 3
```
---
#### 2.4 Особенности взаимодействия со скриптом
В скрипте есть четыре различных вида запросов к пользователю:
1. Вопросы типа `yes`/`no`. В таких вопросах ввод `yes`, `y`, `да` или `д` означает согласие на действие; ввод `no`, `n`, `нет` или `н` означает отказ от действия. Нажатие `enter` в таком вопросе эквивалентно вводу `no`.
2. Вопросы типа *Введите числовое значение (по умолчанию - `N`)*. В таких вопросах предполагается ввод пользователем целого числа. Нажатие `enter` в таком вопросе эквивалентно вводу значения по умолчанию `N`, приведенного в круглых скобках.
3. Вопросы типа *Выберите вариант*. В таких вопросах предполагает ввод одного целого числа от 1 до *N*, соответствующего любому из вариантов. Нажатие `enter` в таком вопросе не введет ничего.
4. Вопросы типа *Введите числовое значение*. В таких вопросах предполагается ввод одного целого числа. Нажатие `enter` в таком вопросе не введет ничего.

### 3. Изменение параметров по умолчанию

В целях автоматизации однотипных действий (расчет и вывод конфигурации), в скрипте используются *значения по умолчанию* - заранее определенные показатели для различных параметров. Они делятся на два типа:
1. Пары `параметр` - `значение параметра` (показатель), которые хранятся в соотвествующих им структурах данных - `словарях`.
2. Глобальные `константы`.

В `словарях` хранятся параметры для следующих типов сущностей:
1. Вся инсталляция.
2. Все типы серверов, возможные в PT SandBox.
3. Все типы источников, описанные в скрипте.

В `константах` хранятся параметры вывода рассчитанных технических характеристик в файлы *txt* и *csv*.

Ниже приводится подробное описание всех параметров и их значений, которые могут быть изменены пользователем в исходном коде скрипта `main.py` на своё усмотрение. 

---
#### 3.1 Общие параметры инсталляции

Задаются в блоке `__main__` и перечислены в словаре `installation_parameters {}`
| Параметр        | Описание                                                                                                         | Значение по умолчанию |
|:---------------:|:----------------------------------------------------------------------------------------------------------------:|:---------------------:|
| vms_all         | Общее количество ВМ на весь стенд. По умолчанию используется максимальное возможное количество ВМ на 1 сервер    | 15                    |
| vms_per_server  | Максимальное количество ВМ на 1 сервер согласно документации вендора                                             | 15                    |
| iso_amount      | Количество базовых образов, которые будут использованы на стенде с системой                                      | 7                     |
| time_to_scan    | Время сканирования в секундах 1 файла динамикой в случае использования скрипта для расчета нагрузки на основании вручную вводимых данных              | 150                   |

---
#### 3.2 Параметры серверов системы
**Параметры сервера управления с функцией поведенческого анализа**
<br>Задаются в функции `calculate_master_with_dynamic(vms_amount, iso_amount)` в словаре `server_parameters {}`
| Параметр        | Описание                                                                                                         | Значение по умолчанию |
|:---------------:|:----------------------------------------------------------------------------------------------------------------:|:---------------------:|
| root_space  | Минимальный рекомендуемый размер корневой директории "/" в ГБ согласно [документации вендора](https://help.ptsecurity.com/ru-RU/projects/sb/5.14/implementation/6015788043#_364005632) | 140 |
| home_space  | Минимальный рекомендуемый размер пользовательской дирекотрии "/home" в ГБ согласно [документации вендора](https://help.ptsecurity.com/ru-RU/projects/sb/5.14/implementation/6015788043#_364005632)                                             | 100                    |
| ssd_size    | Изначальный объем ssd диска в Гб, к которому будут прибавлено вычисленное необходимое место             | 0           |
| hdd_size    | Изначальный объем hdd диска в Гб, к которому будут прибавлено вычисленное необходимое место             | 0           |

---
**Параметры сервера управления без функции поведенческого анализа**
<br>Задаются в функции `calculate_master_without_dynamic(iso_amount, static_tasks)` в словаре `server_parameters {}`
| Параметр        | Описание                                                                                                         | Значение по умолчанию |
|:---------------:|:----------------------------------------------------------------------------------------------------------------:|:---------------------:|
| root_space  | Минимальный рекомендуемый размер корневой директории "/" в ГБ согласно [документации вендора](https://help.ptsecurity.com/ru-RU/projects/sb/5.14/implementation/6015788043#_1840969711) | 130 |
| opt_space  | Минимальный рекомендуемый размер программной директории "/opt" в ГБ согласно [документации вендора](https://help.ptsecurity.com/ru-RU/projects/sb/5.14/implementation/6015788043#_1840969711) | 85 |
| home_space  | Минимальный рекомендуемый размер пользовательской дирекотрии "/home" в ГБ согласно [документации вендора](https://help.ptsecurity.com/ru-RU/projects/sb/5.14/implementation/6015788043#_1840969711)                                             | 100                    |
| ssd_size    | Изначальный объем ssd диска в Гб, к которому будут прибавлено вычисленное необходимое место             | 0           |
| hdd_size    | Изначальный объем hdd диска в Гб, к которому будут прибавлено вычисленное необходимое место             | 0           |

---
**Параметры дополнительного сервера с функцией поведенческого анализа**
<br>Задаются в функции `calculate_additional_server_with_vms(vms_amount)` в словаре `server_parameters {}`
| Параметр        | Описание                                                                                                         | Значение по умолчанию |
|:---------------:|:----------------------------------------------------------------------------------------------------------------:|:---------------------:|
| root_space  | Минимальный рекомендуемый размер корневой директории "/" в ГБ согласно [документации вендора](https://help.ptsecurity.com/ru-RU/projects/sb/5.14/implementation/6015788043#_1169466672) | 140 |
| home_space  | Минимальный рекомендуемый размер пользовательской дирекотрии "/home" в ГБ согласно [документации вендора](https://help.ptsecurity.com/ru-RU/projects/sb/5.14/implementation/6015788043#_1169466672)                                             | 100                    |
| ssd_size    | Изначальный объем ssd диска в Гб, к которому будут прибавлено вычисленное необходимое место             | 0           |
| hdd_size    | Изначальный объем hdd диска в Гб, к которому будут прибавлено вычисленное необходимое место             | 0           |

---
#### 3.3 Параметры показателей источников
Значения выбраны на основании личных взглядов автора проекта и Вы можете быть с ними не согласны.

---
**Параметры SMTP-источника** 
<br>Задаются в блоке `__main__` и перечислены в словаре `smtp_load_parameters {}`
| Параметр               | Описание                                                                                                                | Значение по умолчанию |
|:----------------------:|:-----------------------------------------------------------------------------------------------------------------------:|:---------------------:|
| users_multiplier       | Множитель количества писем для одного пользователя, на который домножается количество пользователей. Используется, если неизвестно количество писем в час           | 3                     |
| mails_with_attachments | Примерный процент количества писем от общего количества писем, которые могут содержать в себе вложения. Используется, если неизвестно количество писем с вложениями | 10                    |
| attachments_per_mail   | Примерное количество вложений на одно письмо, содержащее вложения                                                        | 1                     |
| dynamic_cutoff         | Примерный % количества файлов-вложений от общего количества, которые подходят под параметры динамических исследований    | 10                    |
| prefilter_cutoff       | Примерный % количества файлов, которые останутся на проверку динамикой после отсечки по настроенным правилам префильтринга статики                     | 40                    |
| cache_cutoff           | Примерный % количества файлов, которые останутся на проверку динамикой после отсечки по использованию результатов проверки из кэша (проверяли недавно) | 85                    |
| time_to_scan           | Время сканирования в секундах одного файла в виртуальной машине с данного источника                                                          | 150                   |

---
**Параметры ICAP-источника** 
<br>Задаются в блоке `__main__` и перечислены в словаре `icap_load_parameters {}`
| Параметр         | Описание                                                                                                                         | Значение по умолчанию |
|:----------------:|:--------------------------------------------------------------------------------------------------------------------------------:|:---------------------:|
| dynamic_cutoff   | Примерный % количества файлов, выцепленных из сетевого трафика, от общего количества, которые подходят под параметры динамических исследований         | 5                     |
| prefilter_cutoff | Примерный % количества файлов, которые останутся на проверку динамикой после отсечки по настроенным правилам префильтринга статики                     | 40                    |
| cache_cutoff     | Примерный % количества файлов, которые останутся на проверку динамикой после отсечки по использованию результатов проверки из кэша (проверяли недавно) | 85                    |
| time_to_scan     | Время сканирования в секундах одного файла в виртуальной машине с данного источника                                                                    | 150                   |

---
**Параметры MP 10 edr агентов-источника** 
<br>Задаются в блоке `__main__` и перечислены в словаре `edr_load_parameters {}`
| Параметр           | Описание                                                                                                                               | Значение по умолчанию |
|:------------------:|:--------------------------------------------------------------------------------------------------------------------------------------:|:---------------------:|
| agents_multiplier  | Примерное количество файлов с одного агента MP 10 EDR, которое домножается на общее количество агентов. Используется, если неизвестно общее количество файлов, которые пойдут на проверку в PT SB со всех агентов | 3                     |
| dynamic_cutoff     | Примерный % количества файлов от общего количества, которые подходят под параметры динамических исследований                                           | 1                     |
| prefilter_cutoff   | Примерный % количества файлов, которые останутся на проверку динамикой после отсечки по настроенным правилам префильтринга статики                     | 40                    |
| cache_cutoff       | Примерный % количества файлов, которые останутся на проверку динамикой после отсечки по использованию результатов проверки из кэша (проверяли недавно) | 85                    |
| time_to_scan       | Время сканирования в секундах одного файла в виртуальной машине с данного источника                                                                    | 150                   |

---
**Параметры API-источника с предустановленными параметрами проверки** 
<br>Задаются в блоке `__main__` и перечислены в словаре `automated_api_load_parameters {}`
| Параметр         | Описание                                                                                                                         | Значение по умолчанию |
|:----------------:|:--------------------------------------------------------------------------------------------------------------------------------:|:---------------------:|
| dynamic_cutoff   | Примерный % количества файлов от общего количества, которые подходят под параметры динамических исследований                       | 50                    |
| prefilter_cutoff | Примерный % количества файлов, которые останутся на проверку динамикой после отсечки по настроенным правилам префильтринга статики | 40                    |
| cache_cutoff     | Примерный % количества файлов, которые останутся на проверку динамикой после отсечки по использованию результатов проверки из кэша | 95                    |
| time_to_scan     | Время сканирования в секундах одного файла в виртуальной машине с данного источника                                                | 150                   |

---
**Параметры API-источника с пользовательскими параметрами проверки** 
<br>Задаются в блоке `__main__` и перечислены в словаре `manual_api_load_parameters {}`
| Параметр       | Описание                                                                                                                        | Значение по умолчанию |
|:--------------:|:-------------------------------------------------------------------------------------------------------------------------------:|:---------------------:|
| dynamic_cutoff | Примерный % количества файлов от общего количества, которые подходят под параметры динамических исследований                    | 50                    |
| cache_cutoff   | Примерный % количества файлов, которые останутся на проверку динамикой после отсечки по использованию кэша                      | 95                    |
| time_to_scan   | Время сканирования в секундах одного файла в виртуальной машине с данного источника                                             | 150                   |

---
**Параметры источника файлового хранилища** 
<br>Задаются в блоке `__main__` и перечислены в словаре `storage_load_parameters {}`
| Параметр         | Описание                                                                                                                       | Значение по умолчанию |
|:----------------:|:------------------------------------------------------------------------------------------------------------------------------:|:---------------------:|
| prefilter_cutoff | Примерный % количества файлов, которые останутся на проверку динамикой после отсечки по правилам префильтрации                 | 40                    |
| cache_cutoff     | Примерный % количества файлов, которые останутся на проверку динамикой после отсечки по использованию кэша                     | 50                    |
| time_to_scan     | Время сканирования в секундах одного файла в виртуальной машине с данного источника                                            | 150                   |

---
#### 3.4 Параметры вывода рассчитанных характеристик в файлы
Объявлены как константы в начале скрипта после комментария `#Константы параметров вывода`
| Константа         | Описание                                                                                                                       | Значение по умолчанию |
|:----------------:|:------------------------------------------------------------------------------------------------------------------------------:|:---------------------:|
| TXT_OUTPUT_ENCODING | Кодировка, в которой будет записываться таблица при выводе в *.txt* файл                | utf-8                    |
| CSV_OUTPUT_ENCODING | Кодировка, в которой будет записываться таблица при выводе в *.csv* файл                | windows-1251             |
| CSV_OUTPUT_DELIMITER     | Знак, который используется в качестве разделителя в *.csv* файле                               | точка с запятой `;`|
| CSV_OUTPUT_NEWLINE     | Определяет, как скрипт будет обрабатывать символы конца строки (новые строки) при записи файла   | пустая строка `'' `|

## Примеры использования
### 1. Пример расчета конфигурации отказоутойчивого кластера при проверке файлов с почтового трафика
В качестве исходных данных для расчета будут использованы следующие показатели:
1. Источники для проверки файлов: только почтовый трафик, иные источники отсутствуют
2. Количество писем в час известно: 6000 писем в час
3. Количество писем с вложениями: неизвестно, поэтому предполагается, что из общего количества писем в час, примерно 50% писем содержат вложения
4. Количество вложений на 1 письмо: предполагается, что в среднем на 1 письмо с вложениями приходится 1 вложение
5. Количество вложений, которые могут быть отправлены на динамическое исследование: предполагается, что примерно 30% вложений из почтового трафика пойдут на поведенческий анализ
6. Прочие параметры, такие как: отсечка по префильтрации, отсечка по кэшированию, время сканирования 1 файла, количество образов на данный источник - остаются равным по умолчанию
7. Количество базовых образов, которые будут использоваться на инсталяции: 14
8. Тип инсталляции: отказоустойчивый кластер, серверов управления - 3
---
#### 1.1 Расчет нагрузки на основании используемых источников
При запуске скрипа выведется вопрос о типе расчета, который нам необходим. Т.к. в данном случае производится расчет для конфигурации проверки файлов с `почтового трафика`, необходимо использовать вариант `1`:
```bash
Доступные варианты расчета технических характеристик под сервера PT SB:
1. Расчет ТХ серверов (а также их количества) на основании известных или около известных показателей нагрузки с разлиичных источников
2. Расчет ТХ серверов (а также их количества) на основании вручную вводимых показателей нагрузки на статику и динамику в час
3. Полностью ручный расчет ТХ серверов на основании вручную вводимого количества ВМ на сервер и количества серверов
Введите цифру, соответствующую необходимому варианту: 1
```
Далее заполняются показатели для данного источника<br>(*Примечание: в случае наличия вопроса yes/no, нажатие `enter` эквивалентно вводу `no`*; *в случае наличия `значения по умолчанию`, нажатие `enter` эквивалентно вводу этого `значения`*):
```bash
────────────────────────Электронная почта организации────────────────────────
Будет ли использоваться проверка почты? [Yes, Y, Да, Д| / [No, N, Нет, Н]: y
Известно ли количество писем в час? [Yes, Y, Да, Д| / [No, N, Нет, Н]: y
Ввведите количество писем в час: 6000
Известно ли количетсво писем в час, содержащих вложения? [Yes, Y, Да, Д| / [No, N, Нет, Н]:  
Введите примерный % писем от общего количества, которые предположительно содержат вложения (по умолчанию - 10%): 50
Введите количество вложений на 1 письмо, содержащее вложения (по умолчанию - 1): 1
Введите примерный % заданий от общего количества, которые пойдут на динамический анализ (по умолчанию - 10%): 30
Введите примерный % заданий от задаий ПА, которые останутся после префильтрации (по умолчанию - 40%): 
Введите примерный % заданий от задаий ПА, которые останутся после отброса кэшированием (по умолчанию - 85%): 
Введите время в секундах, как долго будут сканироваться задания с этого источника (по умолчанию - 150):
```
После заполнения параметров нагрузки с почтового источника будут заданы вопросы об использовании остальных источников. Т.к. в данном случае производится расчет только для проверки файлов с `почтового трафика`, для каждого следующего источника указывается `n`:
```bash
───────────────────────────Сетевой трафик по ICAP───────────────────────────
Будет ли использоваться проверка по ICAP? [Yes, Y, Да, Д| / [No, N, Нет, Н]: n
```
После заполнения всех параметров источников (или отказа от их использования) скрипт выведет рассчитанные показатели для всей инсталляции. Как видно, скрипт выводит общее необходимое количество `виртуальных машин` и `возможность использования конфигурации AiO`:
```bash
═══════════════════════════Вычисленные показатели═══════════════════════════
Количество статических заданий: 6000
Количество динамических заданий после всех отсечек: 306
Рекомендуемое количество виртуальных машин на всю инсталляцию: 13
Использование инсталляции AiO: Возможно
```
---
#### 1.2 Расчет конфигурации инсталляции и ТХ серверов
Перед расчетом ТХ серверов скрипт запросит `количество базовых образов`, которые будут использоваться на инсталляции. В данном примере оно равно `14`:
```bash
──────────────────────────Расчет места под образы───────────────────────────
Введите количество базовых образов, которые будут установлены на стенде.
Важно: образ это не то же самое, что виртуальная машина. (По умолчанию - 7): 14
```
Далее задается вопрос о планируемой конфигурации инсталляции. Т.к. в данном примере планируется отказоуйстойчивый кластер, выбираем вариант `4`:
```bash
──────────────────────Выбор конфигурации инсталляции────────────────────────
1. All in one на одном сервере;
2. Высоконагруженная конфигурация. При этом, на сервере управления также поддерживаются динамические исследования;
3. Высоконагруженная конфигурация. При этом, на сервере управления не устанавливаются компоненты Xen и не используются динамические исследования;
4. Отказоустойчивый кластер.
Введите цифру, соответствующую нужной конфигурации инсталляции: 4
```
Далее для отказоустойчивого кластера необходимо ввести количество серверов управления. В данном примере оно равно `3`:
```bash
──────────────────────Расчет кол-ва серверов управления─────────────────────
Введите количество серверов управления в данной инсталляции (нечетное число): 3
```
Заключением для расчета является конфигурация дополнительных серверов с функцией поведенческого анализа. В данном случае показано, что общее количество ВМ в инсталляции равно `13`. Нам удовлетворяет использование одного дополнительного сервера с таким количеством ВМ, поэтому будет выбран вариант `1`:
```bash
───────────────────Расчет ТХ для доп. серверов динамики─────────────────────
1. Расчет ТХ для 1 доп серверов(-а) под общее количество ВМ 13 (не более 15 ВМ на сервер)
2. Вручную ввести количество дополнительных серверов и количество ВМ для каждого сервера
Введите цифру, соответствующую необходимым расчетам ТХ для серверов с динамикой: 1
```
---
#### 1.3 Результаты расчета
В итоге произведенного расчета в консоль будет выведена конфигурация всех серверов:
```bash
╒════════════════════════════╤════════════════════════════════════╤════════════════════════════════════╤════════════════════════════════════╤═══════════════════════════════════════╕  
│                            │                           Сервер 1 │                           Сервер 2 │                           Сервер 3 │                              Сервер 4 │  
│ Параметры сервера          │   Сервер управления без функции ПА │   Сервер управления без функции ПА │   Сервер управления без функции ПА │   Дополнительный сервер с функцией ПА │  
│                            │                                    │                                    │                                    │                     Количество ВМ: 13 │  
╞════════════════════════════╪════════════════════════════════════╪════════════════════════════════════╪════════════════════════════════════╪═══════════════════════════════════════╡  
│ Процессор 2.2 Ггц, потоков │                                 15 │                                 15 │                                 15 │                                    43 │  
├────────────────────────────┼────────────────────────────────────┼────────────────────────────────────┼────────────────────────────────────┼───────────────────────────────────────┤  
│ Память ОЗУ, Гб             │                                 32 │                                 32 │                                 32 │                                    62 │  
├────────────────────────────┼────────────────────────────────────┼────────────────────────────────────┼────────────────────────────────────┼───────────────────────────────────────┤  
│ SSD, Гб                    │                                225 │                                225 │                                225 │                                   355 │  
├────────────────────────────┼────────────────────────────────────┼────────────────────────────────────┼────────────────────────────────────┼───────────────────────────────────────┤
│ HDD, Гб                    │                                274 │                                274 │                                274 │                                   100 │
╘════════════════════════════╧════════════════════════════════════╧════════════════════════════════════╧════════════════════════════════════╧═══════════════════════════════════════╛
```
А также таблица с разметкой дискового пространства в гигабайтах:
```bash
╒════════════════════════════╤════════════════════════════════════╤════════════════════════════════════╤════════════════════════════════════╤═══════════════════════════════════════╕      
│                            │                           Сервер 1 │                           Сервер 2 │                           Сервер 3 │ Сервер 4                              │      
│ Точка монтирования         │   Сервер управления без функции ПА │   Сервер управления без функции ПА │   Сервер управления без функции ПА │ Дополнительный сервер с функцией ПА   │      
│                            │                                    │                                    │                                    │ Количество ВМ: 13                     │      
╞════════════════════════════╪════════════════════════════════════╪════════════════════════════════════╪════════════════════════════════════╪═══════════════════════════════════════╡      
│ /                    [SSD] │                                135 │                                135 │                                135 │ 145                                   │      
├────────────────────────────┼────────────────────────────────────┼────────────────────────────────────┼────────────────────────────────────┼───────────────────────────────────────┤      
│ /opt                 [SSD] │                                 90 │                                 90 │                                 90 │ 210                                   │      
├────────────────────────────┼────────────────────────────────────┼────────────────────────────────────┼────────────────────────────────────┼───────────────────────────────────────┤      
│ /opt/ptms/var/minio  [HDD] │                                174 │                                174 │                                174 │ Не требуется                          │      
├────────────────────────────┼────────────────────────────────────┼────────────────────────────────────┼────────────────────────────────────┼───────────────────────────────────────┤      
│ /home                [HDD] │                                100 │                                100 │                                100 │ 100                                   │      
╘════════════════════════════╧════════════════════════════════════╧════════════════════════════════════╧════════════════════════════════════╧═══════════════════════════════════════╛ 
```
Дополнительно, все расчеты сохраняются в файл `config.txt` на случай, если таблицы получаются больше ширины окна консоли.<br>Также все расчеты сохраняются в файл `config.csv` для последующего импорта в excel и работы с таблицами.
### 2. Пример расчета конфигурации AiO инсталляции по известной нагрузке
В качестве исходных данных для расчета будут использованы следующие параметры:
1. Количество статических заданий в час: 1000
2. Количество динамических заданий в час: 200
3. Время, в течение которого мы хотим сканировать каждый файл: 180 секунд
4. Количество базовых образов: 7
---
#### 2.1 Ввод показателей нагрузки на статику и динамику в час
В данном примере производится расчет по конечной нагрузке в зависимости от количества заданий в час. Поэтому на вопрос о типе расчета необходимо выбрать вариант `2`:
```bash
Доступные варианты расчета технических характеристик под сервера PT SB:
1. Расчет ТХ серверов (а также их количества) на основании известных или около известных показателей нагрузки с разлиичных источников
2. Расчет ТХ серверов (а также их количества) на основании вручную вводимых показателей нагрузки на статику и динамику в час
3. Полностью ручный расчет ТХ серверов на основании вручную вводимого количества ВМ на сервер и количества серверов
Введите цифру, соответствующую необходимому варианту: 2
```
Скрипт запросит данные показатели у пользователя:
```bash
────────────────────────────Показатели нагрузки─────────────────────────────
Ввведите примерное количество статических заданий в час: 1000
Ввведите примерное количество динамических заданий в час после всех отсечек: 200
```
После этого будет задан вопрос о конечном количестве ВМ на инсталляции. Т.к. в данном случае мы хотим узнать это количество на основании `количества динамсических заданий` в час и `времени сканирования` каждого файла, необходимо ввести цифру `2`. Далее указать `время сканирования`, равное `180` секундам:
```bash
──────────────────────────Количество ВМ на стенде───────────────────────────
Доступные варианты выбора количества виртуальных машин на инсталляцию:
1. Ввести общее количество ВМ на всю инсталляцию вручную
2. Рассчитать на основании нагрузки на динамику и времени сканирования на 1 файл
Введите цифру, соответствующую необходимимому варианту: 2
Введите время сканирования 1 файла в секундах: 180
```
На основании введенных показателей рассчитывается необходимое `количество ВМ = 10` на всю инсталляцию, а также `возможность использования AiO`:
```bash
Расчитанное количество ВМ на стенде:  10
Использование инсталляции AiO: Возможно
```
---
#### 2.2 Расчет конфигурации инсталляции и ТХ серверов
Далее указывается количество `базовых образов` на инсталляции. Т.к. число по умолчанию равно `7`, можно нажать `enter`
```bash
──────────────────────────Расчет места под образы───────────────────────────
Введите количество базовых образов, которые будут установлены на стенде.
Важно: образ это не то же самое, что виртуальная машина. (По умолчанию - 7):
```
После чего скрипт запросит информацию о планриуемой инсталляции. Т.к в данном примере используется рассчет под AiO, необходимо указать вариант `1`:
```bash
──────────────────────Выбор конфигурации инсталляции────────────────────────
1. All in one на одном сервере;
2. Высоконагруженная конфигурация. При этом, на сервере управления также поддерживаются динамические исследования;
3. Высоконагруженная конфигурация. При этом, на сервере управления не устанавливаются компоненты Xen и не используются динамические исследования;
4. Отказоустойчивый кластер.
Введите цифру, соответствующую нужной конфигурации инсталляции: 1
```
Скрипт запросит `количество ВМ`, для которого необходимо расчитать ТХ на сервер AiO. Как видно - числом по умолчанию является ранее вычисленное значение - `10`, поэтому можно нажать `enter`:
```bash
Введите количество ВМ для сервера AiO (по умолчанию будет использоваться рекомендованное значение - 10):
```
---
#### 2.3 Результаты расчета
В итоге произведенного расчета в консоль будет выведена конфигурация для сервера AiO:
```bash
╒════════════════════════════╤═══════════════════════════════════╕
│                            │                          Сервер 1 │
│ Параметры сервера          │   Сервер управления с функцией ПА │
│                            │                 Количество ВМ: 10 │
╞════════════════════════════╪═══════════════════════════════════╡
│ Процессор 2.2 Ггц, потоков │                                39 │
├────────────────────────────┼───────────────────────────────────┤
│ Память ОЗУ, Гб             │                                64 │
├────────────────────────────┼───────────────────────────────────┤
│ SSD, Гб                    │                               307 │
├────────────────────────────┼───────────────────────────────────┤
│ HDD, Гб                    │                               214 │
╘════════════════════════════╧═══════════════════════════════════╛
```
А также таблица с разметкой дискового пространства в гигабайтах:
```bash
╒════════════════════════════╤═══════════════════════════════════╕
│                            │                          Сервер 1 │
│ Точка монтирования         │   Сервер управления с функцией ПА │
│                            │                 Количество ВМ: 10 │
╞════════════════════════════╪═══════════════════════════════════╡
│ /                    [SSD] │                               145 │
├────────────────────────────┼───────────────────────────────────┤
│ /opt                 [SSD] │                               162 │
├────────────────────────────┼───────────────────────────────────┤
│ /opt/ptms/var/minio  [HDD] │                               114 │
├────────────────────────────┼───────────────────────────────────┤
│ /home                [HDD] │                               100 │
╘════════════════════════════╧═══════════════════════════════════╛
```
Дополнительно, все расчеты сохраняются в файл `config.txt` на случай, если таблицы получаются больше ширины окна консоли.<br>Также все расчеты сохраняются в файл `config.csv` для последующего импорта в excel и работы с таблицами.

### 3. Пример расчета конфигурации высоконагруженной инсталляции при ручном вводе количества виртуальных машин
В качестве исходных данных для расчета будут использованы следующие параметры:
1. Необходимо расчитать высоконагруженную инсталляцию, при этом на сервере управления отключены динамические исследования
2. Примерное количество статических заданий в час: 1000
3. Количество базовых образов: 5
4. Количество дополнительных серверов с динамикой: 3
5. Для дополнительных серверов необходимо расчитать ТХ под количество ВМ на сервер: 12, 13 и 14 соответственно
---
#### 3.1 Ввод параметров серверов 
В данном примере производится полностью ручной расчет. Поэтому на вопрос о типе расчета необходимо выбрать вариант `3`:
```bash
Доступные варианты расчета технических характеристик под сервера PT SB:
1. Расчет ТХ серверов (а также их количества) на основании известных или около известных показателей нагрузки с разлиичных источников
2. Расчет ТХ серверов (а также их количества) на основании вручную вводимых показателей нагрузки на статику и динамику в час
3. Полностью ручный расчет ТХ серверов на основании вручную вводимого количества ВМ на сервер и количества серверов
Введите цифру, соответствующую необходимому варианту: 3
```
Далее будет выведен вопрос о `потенциальной нагрузке на статику`. Данный показатель может влиять на расчет ТХ для сервера управления в случае высоконагруженной или отказоуйстовой инсталляции. Т.к. в данном примере используется расчет именно для `высоконагруженной инсталляции`, нам приниципально важно указать показатель равный `1000`:
```bash
────────────────────────────Показатели нагрузки─────────────────────────────
Для расчета ТХ серверов управления требуется указать примерное количество статических заданий в час: 1000
```
Скрипт перейдет к запросу информации о количестве используемых базовых образов. В данном случае оно равно `5`:
```bash
──────────────────────────Расчет места под образы───────────────────────────
Введите количество базовых образов, которые будут установлены на стенде.
Важно: образ это не то же самое, что виртуальная машина. (По умолчанию - 7): 5
```
На вопрос о выборе конфигурации выбираем вариант `3`:
```bash
──────────────────────Выбор конфигурации инсталляции────────────────────────
1. All in one на одном сервере;
2. Высоконагруженная конфигурация. При этом, на сервере управления также поддерживаются динамические исследования;
3. Высоконагруженная конфигурация. При этом, на сервере управления не устанавливаются компоненты Xen и не используются динамические исследования;
4. Отказоустойчивый кластер.
Введите цифру, соответствующую нужной конфигурации инсталляции: 3
```
Далее скрипт запросит информацию о количестве дополнительных серверов, в данном примере оно равно `3`. Т.к. нам необходимо ввести количество вручную, выбираем вариант `2`. Далее для каждого сервера будет запрошена информация о `количестве ВМ` на сервер, вводим `12`, `13` и `14` соответственно:
```bash
────────────────Ручная конфигурация доп. серверов динамики──────────────────
Введите количество дополнительных серверов: 3
Введите количество ВМ для 1-го доп. сервера динамики: 12
Введите количество ВМ для 2-го доп. сервера динамики: 13
Введите количество ВМ для 3-го доп. сервера динамики: 14
```
---
#### 3.2 Результаты расчета
В итоге произведенного расчета в консоль будет выведена конфигурация для всех серверов в инсталляции:
```bash
╒════════════════════════════╤════════════════════════════════════╤═══════════════════════════════════════╤═══════════════════════════════════════╤═══════════════════════════════════════╕
│                            │                           Сервер 1 │                              Сервер 2 │                              Сервер 3 │                              Сервер 4 │
│ Параметры сервера          │   Сервер управления без функции ПА │   Дополнительный сервер с функцией ПА │   Дополнительный сервер с функцией ПА │   Дополнительный сервер с функцией ПА │
│                            │                                    │                     Количество ВМ: 12 │                     Количество ВМ: 13 │                     Количество ВМ: 14 │
╞════════════════════════════╪════════════════════════════════════╪═══════════════════════════════════════╪═══════════════════════════════════════╪═══════════════════════════════════════╡
│ Процессор 2.2 Ггц, потоков │                                  6 │                                    40 │                                    43 │                                    46 │
├────────────────────────────┼────────────────────────────────────┼───────────────────────────────────────┼───────────────────────────────────────┼───────────────────────────────────────┤
│ Память ОЗУ, Гб             │                                 32 │                                    57 │                                    62 │                                    66 │
├────────────────────────────┼────────────────────────────────────┼───────────────────────────────────────┼───────────────────────────────────────┼───────────────────────────────────────┤
│ SSD, Гб                    │                                225 │                                   339 │                                   355 │                                   371 │
├────────────────────────────┼────────────────────────────────────┼───────────────────────────────────────┼───────────────────────────────────────┼───────────────────────────────────────┤
│ HDD, Гб                    │                                197 │                                   100 │                                   100 │                                   100 │
╘════════════════════════════╧════════════════════════════════════╧═══════════════════════════════════════╧═══════════════════════════════════════╧═══════════════════════════════════════╛
```
А также таблица с разметкой дискового пространства в гигабайтах:
```bash
╒════════════════════════════╤════════════════════════════════════╤═══════════════════════════════════════╤═══════════════════════════════════════╤═══════════════════════════════════════╕
│                            │                           Сервер 1 │ Сервер 2                              │ Сервер 3                              │ Сервер 4                              │
│ Точка монтирования         │   Сервер управления без функции ПА │ Дополнительный сервер с функцией ПА   │ Дополнительный сервер с функцией ПА   │ Дополнительный сервер с функцией ПА   │
│                            │                                    │ Количество ВМ: 12                     │ Количество ВМ: 13                     │ Количество ВМ: 14                     │
╞════════════════════════════╪════════════════════════════════════╪═══════════════════════════════════════╪═══════════════════════════════════════╪═══════════════════════════════════════╡
│ /                    [SSD] │                                135 │ 145                                   │ 145                                   │ 145                                   │
├────────────────────────────┼────────────────────────────────────┼───────────────────────────────────────┼───────────────────────────────────────┼───────────────────────────────────────┤
│ /opt                 [SSD] │                                 90 │ 194                                   │ 210                                   │ 226                                   │
├────────────────────────────┼────────────────────────────────────┼───────────────────────────────────────┼───────────────────────────────────────┼───────────────────────────────────────┤
│ /opt/ptms/var/minio  [HDD] │                                 97 │ Не требуется                          │ Не требуется                          │ Не требуется                          │
├────────────────────────────┼────────────────────────────────────┼───────────────────────────────────────┼───────────────────────────────────────┼───────────────────────────────────────┤
│ /home                [HDD] │                                100 │ 100                                   │ 100                                   │ 100                                   │
╘════════════════════════════╧════════════════════════════════════╧═══════════════════════════════════════╧═══════════════════════════════════════╧═══════════════════════════════════════╛
```
Дополнительно, все расчеты сохраняются в файл `config.txt` на случай, если таблицы получаются больше ширины окна консоли.<br>Также все расчеты сохраняются в файл `config.csv` для последующего импорта в excel и работы с таблицами.

## Лицензия
This project is licensed under the Mozilla Public License 2.0.
<br>Additional terms: **Commercial use of this code is prohibited without explicit written permission from the author**.

## Авторы
Кирилл Красновский - Full-fledged work on the project - [Github](https://github.com/kaifuss)

## Использованные источники
Формулы для расчета технических характеристик, а также разметки дискового пространства были взяты из публичной документации вендора Positive Technologies.
1. [Документация по расчету аппаратных характеристик для серверов PT Sandbox](https://help.ptsecurity.com/ru-RU/projects/sb/5.14/implementation/5123362699)
2. [Документация по разметке дискового пространства для серверов PT Sandbox](https://help.ptsecurity.com/ru-RU/projects/sb/5.14/implementation/6015788043)

Актуальная версия PT SB, под которую писался скрипт - 5.14
## Контакты
Для связи с автором проекта обращаться в tg: [@corgi_llama](https://t.me/corgi_llama)
